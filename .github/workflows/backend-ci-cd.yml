name: FreshiFy Backend CI/CD

on:
push:
branches: [dev, main]
pull_request:
branches: [dev, main]

jobs:

# Test and Build

test:
name: Test Application
runs-on: ubuntu-latest

```
steps:
  - name: Checkout code
    uses: actions/checkout@v4

  - name: Set up Python
    uses: actions/setup-python@v5
    with:
      python-version: '3.11'

  - name: Install dependencies
    run: |
      python -m pip install --upgrade pip
      pip install -r requirements.txt

  - name: Run basic checks
    run: |
      echo "âœ… Code checkout successful"
      echo "âœ… Dependencies installed"
      python --version
```

# Deploy to Development

deploy-dev:
name: Deploy to Development
runs-on: ubuntu-latest
needs: test
if: github.ref == â€˜refs/heads/devâ€™ && github.event_name == â€˜pushâ€™

```
steps:
  - name: Checkout code
    uses: actions/checkout@v4

  - name: Deploy notification
    run: |
      echo "ðŸš€ Deploying to DEVELOPMENT"
      echo "Branch: ${{ github.ref }}"
      echo "Commit: ${{ github.sha }}"
      echo "Author: ${{ github.actor }}"
```

# Deploy to Production

deploy-prod:
name: Deploy to Production
runs-on: ubuntu-latest
needs: test
if: github.ref == â€˜refs/heads/mainâ€™ && github.event_name == â€˜pushâ€™

```
steps:
  - name: Checkout code
    uses: actions/checkout@v4

  - name: Deploy notification
    run: |
      echo "ðŸš€ Deploying to PRODUCTION"
      echo "Branch: ${{ github.ref }}"
      echo "Commit: ${{ github.sha }}"
      echo "Author: ${{ github.actor }}"
```